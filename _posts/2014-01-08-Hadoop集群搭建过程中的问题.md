---
layout: post
title: "Hadoop集群搭建过程中的问题"
description: "我的情况是 datanode2启动失败，查询日志发现：
              org.apache.hadoop.hdfs.server.datanode.DataNode: Invalid directory in dfs.data.dir: /data/3/dfs/dn"
category: 技术
tags: [hadoop]
---
{% include JB/setup %}

## 某一个Datanode启动失败

我的情况是 datanode2启动失败，查询日志发现：
org.apache.hadoop.hdfs.server.datanode.DataNode: Invalid directory in dfs.data.dir: /data/3/dfs/dn

这是因为/data/3/dfs/ 这个目录的权限不对，要设置成755 并且用户和组都是 hdfs
解决：
chmod -R 755 /data/3/dfs/
chown -R hdfs:hdfs /data/3/dfs/
