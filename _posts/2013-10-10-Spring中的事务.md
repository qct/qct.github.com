---
layout: post
title: "Spring中的事务"
description: "包括事务的传播行为（Propagation Behavior）、事务的隔离级别（Isolation Level）、事务超时（Timeout）、事务只读属性（Read Only） 
"
category: 技术
tags: [Spring Java]
---
{% include JB/setup %}

## 事务的基本属性

包括事务的传播行为（Propagation Behavior）、事务的隔离级别（Isolation Level）、事务超时（Timeout）、事务只读属性（Read Only）

### 事务的传播行为

在Spring中 TransactionDefinition 定义了事务的基本属性，对应的传播行为分为：PROPAGATION_REQUIRED、PROPAGATION_SUPPORTS、PROPAGATION_MANDATORY、PROPAGATION_REQUIRES_NEW、PROPAGATION_NOT_SUPPORTED、PROPAGATION_NEVER、PROPAGATION_NESTED。

* PROPAGATION_REQUIRED：如果当前存在事务，则加入该事务；如果当前没有事务，则创建一个新的事务。
* PROPAGATION_SUPPORTS：如果当前存在事务，则加入该事务；如果当前没有事务，则以非事务的方式继续运行。
* PROPAGATION_MANDATORY：如果当前存在事务，则加入该事务；如果当前没有事务，则抛出异常。
* PROPAGATION_REQUIRES_NEW：创建一个新的事务，如果当前存在事务，则把当前事务挂起。
* PROPAGATION_NOT_SUPPORTED：以非事务方式运行，如果当前存在事务，则把当前事务挂起。
* PROPAGATION_NEVER：以非事务方式运行，如果当前存在事务，则抛出异常。
* PROPAGATION_NESTED：如果当前存在事务，则创建一个事务作为当前事务的嵌套事务来运行；如果当前没有事务，PROPAGATION_REQUIRED。



